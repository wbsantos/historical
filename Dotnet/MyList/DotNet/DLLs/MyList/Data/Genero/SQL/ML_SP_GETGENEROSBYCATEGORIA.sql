IF EXISTS (SELECT * FROM SYSOBJECTS WHERE TYPE = 'P' AND NAME = 'ML_SP_GETGENEROSBYCATEGORIA')
	BEGIN
		PRINT 'DROPPING PROCEDURE ML_SP_GETGENEROSBYCATEGORIA'
		DROP  PROCEDURE ML_SP_GETGENEROSBYCATEGORIA
	END
GO

PRINT 'CREATING PROCEDURE ML_SP_GETGENEROSBYCATEGORIA'
GO

CREATE PROCEDURE ML_SP_GETGENEROSBYCATEGORIA
	@CATEGORIAID INT
AS

/******************************************************************************
**		NOME DO AQUIVO: ML_SP_GETGENEROSBYCATEGORIA.SQL
**		NOME DA PROCEDURE: ML_SP_GETGENEROSBYCATEGORIA
**
**		DESCRIÇÃO: PROCEDURE RESPONSÁVEL EM CONSULTAR GENEROS CADASTRADOS FILTRANDO POR CATEGORIA.
**      
**
**		TEAMPLATE ELABORADO POR: WILLIAM BARBOSA
**              
**		PROGRAMADOR AUTOR: WILLIAM BARBOSA
**		DATA: 03/11/2015
*******************************************************************************
**		HISTÓRICO DE ALTERAÇÕES
*******************************************************************************
**		DATA:		AUTOR:				DESCRIÇÃO:
**
*******************************************************************************/

SELECT GRID, GRGENERO FROM GENERO WITH(NOLOCK)
INNER JOIN GENERO_CATEGORIA WITH(NOLOCK) ON GCGRID = GRID
WHERE GCCTID = @CATEGORIAID

RETURN 0
